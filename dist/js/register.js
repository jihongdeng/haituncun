"use strict";require(["config"],function(){require(["jquery"],function(){var e=$("#uname"),n=$("#pwd"),c=($("#verify-code"),$("#btn")),t=!0,o=!1;$("#pAgree").change(function(){t=$("#pAgree").is(":checked"),console.log(t),t?$("#check-icon").css("opacity","1"):$("#check-icon").css("opacity","0")}),$("check-icon").click(function(){$("#pAgree").is(":checked")?$("#check-icon").css("opacity","1"):$("#check-icon").css("opacity","0")});function i(){return/^[1][3,4,5,7,8][0-9]{9}$/.test(e.value)}function r(){return/^[a-zA-Z]\w{3,19}$/.test(n.value)}n.onblur=function(){r()?$("#pwdS").innerHTML="":$("#pwdS").innerHTML="输入格式有误"},cid.onblur=function(){ckcid()?$("#cidS").innerHTML="":$("#cidS").innerHTML="输入格式有误"},e.onblur=function(){if(i()){var n=new XMLHttpRequest;n.open("post","exercise.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("uname="+e.value),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=n.responseText;o="not exist"===e,"exist"==e?$("#unameS").innerHTML="<font color='red'>该用户名已经存在，请重新输入<font>":"error"==e?$("#unameS").innerHTML="发生未知错误,请重新输入":o&&($("#unameS").innerHTML="该用户名可用")}}}else $("#unameS").innerHTML="输入格式有误!"},c.onclick=function(){if(e.blur(),o&&i()&&r()&&ckcid()){console.log(0);var c=new XMLHttpRequest;c.open("post","exercise.php",!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send("uname="+e.value+"&pwd="+n.value+"&cid="+cid.value),c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){console.log(0);var e=c.responseText;console.log(e),e&&(alert("注册成功！！"),location.assign("landing.html"))}}}}})});